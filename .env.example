# =============================================================================
# VESSEL - Invoice Factoring Platform on Lisk Sepolia
# =============================================================================

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
PORT=8080
GIN_MODE=debug  # debug, release, test

# -----------------------------------------------------------------------------
# Database (PostgreSQL)
# -----------------------------------------------------------------------------
POSTGRES_USER=vessel
POSTGRES_PASSWORD=vessel
POSTGRES_DB=vessel
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
# Untuk Docker: gunakan 'postgres' (nama service)
# Untuk local development: gunakan 'localhost'
DATABASE_URL=postgres://vessel:vessel@postgres:5432/vessel?sslmode=disable
DATABASE_URL_LOCAL=postgres://vessel:vessel@localhost:5432/vessel?sslmode=disable

# -----------------------------------------------------------------------------
# Redis (Optional - for rate limiting)
# -----------------------------------------------------------------------------
# Untuk Docker: gunakan 'redis' (nama service)
# Untuk local development: gunakan 'localhost'
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# -----------------------------------------------------------------------------
# JWT Authentication
# -----------------------------------------------------------------------------
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRY_HOURS=24
JWT_REFRESH_EXPIRY_HOURS=168

# -----------------------------------------------------------------------------
# Blockchain (Lisk Sepolia Testnet)
# NOTE: This project is configured for Lisk Sepolia testnet ONLY
# Get testnet ETH from: https://sepolia-faucet.lisk.com/
# -----------------------------------------------------------------------------
PRIVATE_KEY=your_private_key_here
BLOCKCHAIN_RPC_URL=https://rpc.sepolia-api.lisk.com
CHAIN_ID=4202
BLOCK_EXPLORER_URL=https://sepolia-blockscout.lisk.com

# Contract addresses (fill after deployment)
# NOTE: Payment is abstracted (input amount only), but transactions are recorded on-chain
INVOICE_NFT_CONTRACT_ADDRESS=
INVOICE_POOL_CONTRACT_ADDRESS=
IDRX_TOKEN_CONTRACT_ADDRESS=
PLATFORM_WALLET_ADDRESS=

# -----------------------------------------------------------------------------
# IPFS / Pinata (Document Storage)
# Get keys from: https://app.pinata.cloud/keys
# -----------------------------------------------------------------------------
PINATA_API_KEY=your_pinata_api_key
PINATA_SECRET_KEY=your_pinata_secret_key
PINATA_JWT=your_pinata_jwt_token
PINATA_GATEWAY_URL=https://gateway.pinata.cloud/ipfs/

# -----------------------------------------------------------------------------
# File Upload
# -----------------------------------------------------------------------------
MAX_FILE_SIZE_MB=10
ALLOWED_FILE_TYPES=pdf,png,jpg,jpeg,zip

# -----------------------------------------------------------------------------
# SMTP (Email - for OTP and Notifications)
# For Gmail: enable "Less secure apps" or use App Password
# -----------------------------------------------------------------------------
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your_email@gmail.com
SMTP_PASSWORD=your_app_password
SMTP_FROM=noreply@vessel.id

# -----------------------------------------------------------------------------
# OTP Settings
# -----------------------------------------------------------------------------
OTP_EXPIRY_MINUTES=5
OTP_MAX_ATTEMPTS=5

# -----------------------------------------------------------------------------
# Platform Settings
# -----------------------------------------------------------------------------
PLATFORM_FEE_PERCENTAGE=2.0
DEFAULT_ADVANCE_PERCENTAGE=80.0
MIN_INVOICE_AMOUNT=1000
MAX_INVOICE_AMOUNT=1000000

# -----------------------------------------------------------------------------
# Currency Conversion (VESSEL)
# Buffer rate for IDRX conversion (1.5% = 0.015)
# -----------------------------------------------------------------------------
DEFAULT_BUFFER_RATE=0.015

# -----------------------------------------------------------------------------
# CORS & Frontend
# -----------------------------------------------------------------------------
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080
FRONTEND_URL=http://localhost:3000

# -----------------------------------------------------------------------------
# Security
# -----------------------------------------------------------------------------
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_DURATION=1m
